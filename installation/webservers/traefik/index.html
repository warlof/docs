



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Simple EVE Api Tool Documentation">
      
      
        <link rel="canonical" href="https://eveseat.github.io/docs/installation/webservers/traefik/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Traefik - SeAT Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#757575">
      
    
    
      <script src="../../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/extra_typo.css">
    
      <link rel="stylesheet" href="../../../css/extra_tabs.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-119530306-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="grey" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#trfik" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://eveseat.github.io/docs" title="SeAT Documentation" aria-label="SeAT Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SeAT Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Traefik
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/eveseat/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    eveseat/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://eveseat.github.io/docs" title="SeAT Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    SeAT Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/eveseat/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    eveseat/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../requirements/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic_installation/" title="Basic Installation" class="md-nav__link">
      Basic Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker_installation/" title="Docker Installation" class="md-nav__link">
      Docker Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Manual Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Manual Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/getting_started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/centos/" title="CentOS" class="md-nav__link">
      CentOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/debian/" title="Debian" class="md-nav__link">
      Debian
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/ubuntu/" title="Ubuntu" class="md-nav__link">
      Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../manual/generic/" title="Generic" class="md-nav__link">
      Generic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5" checked>
    
    <label class="md-nav__link" for="nav-2-5">
      Webservers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        Webservers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../general/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nginx/" title="Nginx" class="md-nav__link">
      Nginx
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Traefik
      </label>
    
    <a href="./" title="Traefik" class="md-nav__link md-nav__link--active">
      Traefik
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapt-seats-docker-composeyml-file-to-serve-trfik" class="md-nav__link">
    Adapt SeAT's docker-compose.yml file to serve Træfik
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapt-callback-url-to-support-https" class="md-nav__link">
    Adapt Callback-URL to support https
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#change-esi-callback-on-developers" class="md-nav__link">
    Change ESI Callback on Developers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-env-in-seat-docker-folder" class="md-nav__link">
    Update .env in Seat-Docker-Folder
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitor-trfik-health" class="md-nav__link">
    Monitor Træfik Health
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../caddy/" title="Caddy" class="md-nav__link">
      Caddy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apache/" title="Apache" class="md-nav__link">
      Apache
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Upgrading
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Upgrading
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../upgrading/general/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../upgrading/from_seat_2_0/" title="From SeAT 2.0" class="md-nav__link">
      From SeAT 2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../upgrading/from_seat_1_0/" title="From SeAT 1.0" class="md-nav__link">
      From SeAT 1.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../configuration/esi_configuration/" title="ESI Configuration" class="md-nav__link">
      ESI Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Email Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Email Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../configuration/email_setup/mailgun/" title="Mailgun" class="md-nav__link">
      Mailgun
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../configuration/email_setup/gmail/" title="GMail" class="md-nav__link">
      GMail
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../configuration/env_file_reference/" title="Env File Reference" class="md-nav__link">
      Env File Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../configuration/eve_administrative_contact/" title="EVE Administrative Contact" class="md-nav__link">
      EVE Administrative Contact
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../configuration/configuration_overload/" title="Configuration Overload" class="md-nav__link">
      Configuration Overload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../configuration/sde_overload/" title="SDE Overload" class="md-nav__link">
      SDE Overload
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Admin Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Admin Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../admin_guides/docker_admin/" title="Docker Admin" class="md-nav__link">
      Docker Admin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../admin_guides/role_based_access_control/" title="Role Based Access Control" class="md-nav__link">
      Role Based Access Control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../admin_guides/understanding_tracking/" title="Understanding Tracking" class="md-nav__link">
      Understanding Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../admin_guides/scaled_deployments/" title="Scaled Deployments" class="md-nav__link">
      Scaled Deployments
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Developer Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Developer Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer_guides/developer_installation/" title="Developer Installation" class="md-nav__link">
      Developer Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer_guides/general_guide/" title="General Guide" class="md-nav__link">
      General Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer_guides/job_queue_flow/" title="Job Queue Flow" class="md-nav__link">
      Job Queue Flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer_guides/development_tips/" title="Development Tips" class="md-nav__link">
      Development Tips
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer_guides/core_package_breakdown/" title="Core Package Breakdown" class="md-nav__link">
      Core Package Breakdown
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer_guides/package_development/" title="Package Development" class="md-nav__link">
      Package Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../developer_guides/seat_api/" title="SeAT API" class="md-nav__link">
      SeAT API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../styling/" title="Styling" class="md-nav__link">
      Styling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../community_packages/" title="Community Packages" class="md-nav__link">
      Community Packages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/contact/" title="Contact" class="md-nav__link">
      Contact
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/reporting_bugs/" title="Reporting Bugs" class="md-nav__link">
      Reporting Bugs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapt-seats-docker-composeyml-file-to-serve-trfik" class="md-nav__link">
    Adapt SeAT's docker-compose.yml file to serve Træfik
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adapt-callback-url-to-support-https" class="md-nav__link">
    Adapt Callback-URL to support https
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#change-esi-callback-on-developers" class="md-nav__link">
    Change ESI Callback on Developers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-env-in-seat-docker-folder" class="md-nav__link">
    Update .env in Seat-Docker-Folder
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitor-trfik-health" class="md-nav__link">
    Monitor Træfik Health
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eveseat/docs/edit/master/docs/installation/webservers/traefik.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><img alt="SeAT" src="https://i.imgur.com/aPPOxSK.png" /></p>
<div class="admonition info">
<p class="admonition-title">A records for (sub)domain</p>
<p>This guide assumes that you have created an A record on the DNS zone you want to manage via Træfik.</p>
</div>
<h1 id="trfik">Træfik<a class="headerlink" href="#trfik" title="Permanent link">&para;</a></h1>
<p>Træfik is a modern HTTP reverse proxy and load balancer that makes deploying microservices easy. Most of the time SeAT is not going to be the only web application running on your Webserver. Therefore you need an orchestrator or proxy-server which handles sub-domains, ports, certificates etc. Here Træfik makes managing your webserver very easy, especially because it is docker aware and configures itself.</p>
<div class="admonition note">
<p class="admonition-title">Let's encrypt by default</p>
<p>This guide will automatically enable HTTPS via Let's encrypt (Free SSL-Certificates \o/).</p>
</div>
<p><img alt="Traefik" src="https://docs.traefik.io/img/architecture.png" /></p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>First create a new docker network:</p>
<div class="codehilite"><pre><span></span><code>docker network create web
</code></pre></div>


<p>Next, we need to create a directory on the server where we will store the Træfik configuration files. Once weh ave the directory ready we will also prepare the files Træfik will use.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Create the directory</span>
mkdir -p /opt/traefik

<span class="c1"># Prepare the configuration files</span>
touch /opt/traefik/docker-compose.yml
touch /opt/traefik/acme.json
touch /opt/traefik/traefik.toml

<span class="c1"># Ensure the permissions on acme.json is secure</span>
chmod <span class="m">600</span> /opt/traefik/acme.json
</code></pre></div>


<p>Since we are going to run Træfik inside of a docker container, we need to create a <code>docker-compose.yml</code> inside the traefik directory. This file describes the configuration in a way traefik understands and lets us easily reconfigure it in the future: Open <code>/opt/traefik/docker-compose.yml</code> and add the following contents:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">version</span><span class="p">:</span> <span class="s">&quot;3.2&quot;</span>
<span class="nt">services</span><span class="p">:</span>
  <span class="nt">traefik</span><span class="p">:</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">traefik:1.6.0-alpine</span>
    <span class="nt">restart</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">always</span>
    <span class="nt">volumes</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/var/run/docker.sock:/var/run/docker.sock</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/opt/traefik/traefik.toml:/traefik.toml</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/opt/traefik/acme.json:/acme.json</span>
    <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">80:80</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">443:443</span>
      <span class="c1"># Uncomment Port 8080 if you plan to use Træfik&#39;s Dashboard</span>
      <span class="c1">#- 8080:8080</span>
    <span class="c1">#labels:</span>
      <span class="c1">#- traefik.frontend.rule=Host:{monitor.your.server}</span>
      <span class="c1">#- traefik.port=8080</span>

    <span class="nt">networks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">web</span>
<span class="nt">networks</span><span class="p">:</span>
  <span class="nt">web</span><span class="p">:</span>
    <span class="nt">external</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>


<p>Next you need to a edit the <code>traefik.toml</code>-file.</p>
<div class="admonition info">
<p class="admonition-title">Enter domain and your email-address</p>
<p>In order to automatically maintain your SSL certificate, Træfik needs to know your domain and email address. Let's encrypt needs your email to provide fresh SSL certificates.</p>
</div>
<div class="codehilite"><pre><span></span><code><span class="n">defaultEntryPoints</span> <span class="o">=</span> <span class="k">[&quot;http&quot;, &quot;https&quot;]</span>

<span class="k">[api]</span>
<span class="c1">#entrypoint=&quot;monitor&quot;</span>

<span class="k">[docker]</span>
<span class="n">domain</span> <span class="o">=</span> <span class="s">&quot;{your.domain}&quot;</span>
<span class="n">watch</span> <span class="o">=</span> <span class="kc">true</span>

<span class="k">[entryPoints]</span>
 <span class="k">[entryPoints.http]</span>
 <span class="n">address</span> <span class="o">=</span> <span class="s">&quot;:80&quot;</span>
  <span class="k">[entryPoints.http.redirect]</span>
  <span class="n">entryPoint</span> <span class="o">=</span> <span class="s">&quot;https&quot;</span>
 <span class="k">[entryPoints.https]</span>
 <span class="n">address</span> <span class="o">=</span> <span class="s">&quot;:443&quot;</span>
  <span class="k">[entryPoints.https.tls]</span>
 <span class="c1">#[entryPoints.monitor] # Uncomment if you use the web dashboard</span>
   <span class="c1">#address=&quot;:8080&quot;</span>
   <span class="c1">#[entryPoints.monitor.auth]</span>
     <span class="c1">#[entryPoints.monitor.auth.basic]</span>
       <span class="c1">#users = [&quot;admin:{your_MD5_encrypted_PW}&quot;] #replace the curly paranthesis with your MD5 encrypted PW</span>


<span class="k">[acme]</span>
 <span class="n">email</span> <span class="o">=</span> <span class="s">&quot;{your.em@il.net}&quot;</span>
 <span class="n">storage</span> <span class="o">=</span> <span class="s">&quot;acme.json&quot;</span>
 <span class="n">entryPoint</span> <span class="o">=</span> <span class="s">&quot;https&quot;</span>
 <span class="n">onHostRule</span> <span class="o">=</span> <span class="kc">true</span>
 <span class="n">onDemand</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="k">[acme.httpChallenge]</span>
   <span class="n">entryPoint</span> <span class="o">=</span> <span class="s">&quot;http&quot;</span>
</code></pre></div>


<p>After configuring both the <code>docker-compose.yml</code> and <code>traefik.toml</code> files (leaving the <code>acme.json</code> file empty), you should now ne able to start Træfik:</p>
<div class="codehilite"><pre><span></span><code>docker-compose up -d
</code></pre></div>


<h2 id="adapt-seats-docker-composeyml-file-to-serve-trfik">Adapt SeAT's <code>docker-compose.yml</code> file to serve Træfik<a class="headerlink" href="#adapt-seats-docker-composeyml-file-to-serve-trfik" title="Permanent link">&para;</a></h2>
<p>By default, SeAT ships with <code>ngnix</code> as a web server. This web server exposes two ports to the web. We need to adapt the <code>docker-compose.yml</code> file inside SeAT's installation folder. Inside <code>/opt/seat-docker</code> add the comment character <code>#</code> to the <code>ngnix</code> sections like:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nt">nginx</span><span class="p">:</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eveseat/eveseat-nginx</span>
    <span class="nt">depends_on</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">seat-app</span>
    <span class="nt">container_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">seat-nginx</span>
    <span class="nt">restart</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">always</span>
    <span class="nt">environment</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">NGINX_HOST=${NGINX_HOST}</span>
    <span class="nt">volumes</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;seat-code:/var/www/seat&quot;</span>
      <span class="c1"># Remove the comment below to enable nginx logs to disk.</span>
      <span class="c1">#- ./logs/nginx/:/var/log/nginx/</span>
    <span class="c1">#ports:</span>
      <span class="c1">#- &quot;${NGINX_HTTP}:80&quot;</span>
      <span class="c1">#- &quot;${NGINX_HTTPS}:443&quot;</span>
    <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/bin/sh -c &quot;envsubst &#39;${NGINX_HOST}&#39; &lt; /etc/nginx/nginx.conf.template &gt; /etc/nginx/nginx.conf &amp;&amp; nginx -g &#39;daemon off;&#39;&quot;</span>
    <span class="nt">labels</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&quot;traefik.frontend.rule=Host:{seat.your.domain}&quot;</span>
        <span class="p p-Indicator">-</span> <span class="s">&quot;traefik.docker.network=web&quot;</span>
        <span class="p p-Indicator">-</span> <span class="s">&quot;traefik.port=80&quot;</span>
    <span class="nt">networks</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">seat-network</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">web</span>
</code></pre></div>


<p>Next, add a new section to the existing <code>networks</code> section as follows:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">networks</span><span class="p">:</span>
    <span class="nt">seat-network</span><span class="p">:</span>
    <span class="nt">web</span><span class="p">:</span>
       <span class="nt">external</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>


<p>For these changes to take affect, restart the stack with:</p>
<div class="codehilite"><pre><span></span><code>docker-compose up -d
</code></pre></div>


<h2 id="adapt-callback-url-to-support-https">Adapt Callback-URL to support <code>https</code><a class="headerlink" href="#adapt-callback-url-to-support-https" title="Permanent link">&para;</a></h2>
<p>After having setup Træfik, your application is now only available via <code>https</code>. Therefore you must adapt the ESI-Callback URL in <code>.env</code> in your SeAT-Docker folder and on the developers-portal.</p>
<h3 id="change-esi-callback-on-developers">Change ESI Callback on Developers<a class="headerlink" href="#change-esi-callback-on-developers" title="Permanent link">&para;</a></h3>
<p>Browse to <a href="https://developers.eveonline.com/applications">https://developers.eveonline.com/applications</a> and select your Application (1) which you have created previously:</p>
<p><img alt="Application" src="https://i.imgur.com/0IPC14v.png" /></p>
<p>Select <code>Update Details</code> (2)</p>
<p><img alt="Application" src="https://i.imgur.com/2n2w40P.png" /></p>
<p>Change the <code>callback url</code> (3) to use <code>https</code> and confirm the changes and update app (4):</p>
<p><img alt="Application" src="https://i.imgur.com/m6Qb7da.png" /></p>
<h3 id="update-env-in-seat-docker-folder">Update <code>.env</code> in Seat-Docker-Folder<a class="headerlink" href="#update-env-in-seat-docker-folder" title="Permanent link">&para;</a></h3>
<p>Change directories to <code>seat-docker</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="nb">cd</span> /opt/seat-docker
</code></pre></div>


<p>Update the <code>.env</code> files parameters with the new <code>callback-url</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">EVE_CALLBACK_URL=https://seat.test/auth/eve/callback</span>
</code></pre></div>


<p>For these changes to take affect, restart the stack with:</p>
<div class="codehilite"><pre><span></span><code>docker-compose up -d
</code></pre></div>


<p>Now you have a HTTPS only SeAT instance and a very state-of-the-art proxy server which you can also use to manage other applications such as discourse (the forum), tripwire or pathfinder.</p>
<p><img alt="SafeSeAT" src="https://i.imgur.com/rgAskUE.png" /></p>
<h2 id="monitor-trfik-health">Monitor Træfik Health<a class="headerlink" href="#monitor-trfik-health" title="Permanent link">&para;</a></h2>
<p>Træfik ships with a monitoring dashboard that includes metrics integration with prometheus. If you wish to take advantage of the web dashboard you need to uncomment the marked sections in the <code>.toml</code> and <code>docker-compose.yml</code> files for Træfik and set the password for the dashboard login.</p>
<p>!!!! info "Have you set a subdomain?"
    Remember to create an A record entry for the dashboard. For eg: monitor.{yourdomain.com}</p>
<p><img alt="monitor" src="https://i.imgur.com/AS17Kqk.png" /></p>
<p>The password hash format used by the dashboard is a 1000 thousand iteration MD5 sum. To generate such a password hash you need to install a helper utility first. On Ubuntu, this can be done with:</p>
<div class="codehilite"><pre><span></span><code>sudo apt-get install apache2-utils
</code></pre></div>


<p>Next, generate the password hash with <code>htpasswd</code>. Substitute <code>secure_password</code> with the password you'd like to use for the Træfik admin user:</p>
<div class="codehilite"><pre><span></span><code>htpasswd -nb admin secure_password
</code></pre></div>


<p>This command will output a hash similar to the below format:</p>
<div class="codehilite"><pre><span></span><code>admin:<span class="nv">$apr1$ruca84Hq$mbjdMZBAG</span>.KWn7vfN/SNK/
</code></pre></div>


<p>Take this output and replace the <code>users = [admin:MD5Password]</code> section in the Traefik <code>.toml</code>.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../nginx/" title="Nginx" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Nginx
              </span>
            </div>
          </a>
        
        
          <a href="../caddy/" title="Caddy" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Caddy
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2015 - 2019 Leon Jacobs
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/eveseat/seat" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../../.."}})</script>
      
        <script src="../../../js/extra_tabs.js"></script>
      
    
  </body>
</html>