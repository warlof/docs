<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Generic Installation - SeAT Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Generic Installation";
    var mkdocs_page_input_path = "installation_guides/generic_installation.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> SeAT Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">General</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../contact/">Contact</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../reporting_bugs/">Reporting Bugs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../community_packages/">Community Packages</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Installation Guides</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../getting_started/">Getting Started</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../quick_install/">Quick Install</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Generic Installation</a>
    <ul class="current">
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../centos6/">CentOS 6.x</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../centos7/">CentOS 7.x</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ubuntu16x/">Ubuntu 16.x</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../developer_installation/">Development Project</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Upgrade Guides</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../upgrade_guides/general_upgrades/">General Upgrades</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../upgrade_guides/seat1_to_2/">SeAT 1.x to SeAT 2.0</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Email</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../email/mailgun/">Mailgun Setup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../email/gmail/">Gmail Setup</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Admin Guides</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../admin_guides/sso/">Configuring Eve Online SSO</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../admin_guides/scaling_seat/">Scaled SeAT Deployments</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../admin_guides/rbac/">Role Based Access Control</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../admin_guides/tracking/">Understanding Tracking</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../admin_guides/seat_supervisor/">SeAT & Supervisor Integration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../admin_guides/eveapi_admin_contact/">EVE Api Administrative Contact</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">SeAT API</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../seat_api/overview/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../seat_api/eve_api_keys/">EVE Api Keys</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../seat_api/seat_users/">SeAT Users</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../seat_api/roles_permissions/">SeAT Roles, Permissions and Authorization</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../seat_api/characters/">Characters</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../seat_api/corporations/">Corporations</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Changelogs</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../changelogs/api/">Api</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../changelogs/console/">Console</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../changelogs/eveapi/">Eveapi</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../changelogs/notifications/">Notifications</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../changelogs/services/">Services</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../changelogs/web/">Web</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Package Configurations</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/overview/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/api/">Api</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/console/">Console</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/eveapi/">Eveapi</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/notifications/">Notifications</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/service/">Service</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/web/">Web</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../configuration/other/">Other</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Eve XML API Updater</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../eve_xml_api_updater/job_queue_flow/">Job Queue Flow</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Developing For SeAT</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../development/general/">General Guide</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../development/package_breakdown/">Core Package Breakdown</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../development/package_development/">Package Development</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../todo/">TODO List</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">SeAT Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Installation Guides &raquo;</li>
        
      
    
    <li>Generic Installation</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/eveseat/docs/edit/master/docs/installation_guides/generic_installation.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><img alt="SeAT" src="http://i.imgur.com/aPPOxSK.png" /></p>
<p>If you are reading this, it means that you want to install SeAT on a Linux distribution that does not have a dedicated guide. SeAT <em>should</em> be able to run fine on just about any distribution.</p>
<p>This guide is going to assume a very confident level of Linux expertise too and is only recommended for advanced users.</p>
<h3 id="table-of-contents">table of contents</h3>
<ol>
<li><a href="#software">Software</a></li>
<li><a href="#software---php">Software - PHP</a></li>
<li><a href="#composer">Composer</a></li>
<li><a href="#seat-download">SeAT - Download</a></li>
<li><a href="#seat-permissions">SeAT - Permissions</a></li>
<li><a href="#seat-setup">SeAT - Setup</a></li>
<li><a href="#supervisor">Supervisor</a></li>
<li><a href="#crontab">Crontab</a></li>
<li><a href="#webserver">Webserver</a></li>
</ol>
<h3 id="software">software</h3>
<p>SeAT needs 3 major components. A MySQL (or MariaDB) database, Redis and <code>supervisord</code>. Using your operating systems package manager (or from source if you wish!), install the services. PHP needs to be at least version 7 and supervisor at least version 3. The following list gives a breakdown of the OS level dependencies needed by SeAT:</p>
<ul>
<li>mysqld</li>
<li>redis</li>
<li>supervisord</li>
<li>git</li>
<li>unzip</li>
</ul>
<h3 id="software-php">software - php</h3>
<p>There are also a few PHP 7 dependencies needed that should be installed. You can confirm if you are missing any by running <code>php -m</code> and comparing it to the following list:</p>
<ul>
<li>mcrypt</li>
<li>intl</li>
<li>gd</li>
<li>PDO</li>
<li>pdo_mysql</li>
<li>curl</li>
<li>mbstring</li>
<li>dom</li>
<li>bz2</li>
</ul>
<h3 id="composer">composer</h3>
<p>SeAT makes use of the de-facto PHP dependency manager called <a href="https://getcomposer.org/">Composer</a>. Composer is required to both install and update SeAT at a later stage. It is for this reason that it is recommended that you install composer globally on your server so that you can access it by simply typing <code>composer</code>. Lets set that up by downloading Composer and saving it to <code>/usr/local/bin</code>:</p>
<pre><code>curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer &amp;&amp; hash -r
</code></pre>

<h3 id="seat-download">seat download</h3>
<p>SeAT is downloaded using the previously installed <code>composer</code> tool. Decide where you want to host SeAT (like <code>/var/www/seat</code>) and download it:</p>
<p><strong>NOTE</strong> This can take some time, Composer does a ton of magic here :+1: (like recursively resolving all dependencies :O)</p>
<pre><code>composer create-project eveseat/seat seat --no-dev
</code></pre>

<p>Successful installation should end with something like:</p>
<pre><code>Writing lock file
Generating autoload files
&gt; Illuminate\Foundation\ComposerScripts::postUpdate
&gt; php artisan optimize
Generating optimized class loader
Compiling common classes
&gt; php artisan key:generate
Application key [base64:WFfzkuIpUGpkDNu0SRtwhPphpM66UvzuZpEML/6dEVQ=] set successfully.
</code></pre>

<h3 id="seat-permissions">seat permissions</h3>
<p>SeAT writes logfiles/cachefiles and other temporary data to the <code>seat/storage/</code> directory. Ensure that the user your webserver will run as can write to this location. Example permissions configuration is:</p>
<pre><code>chown -R apache:apache /var/www/seat
</code></pre>

<pre><code>chmod -R guo+w /var/www/seat/storage/
</code></pre>

<p>SeAT is now downloaded and almost ready for use!</p>
<h3 id="seat-setup">seat setup</h3>
<p>Next, we need to configure SeAT to know where the database server lives. Do this by editing <code>/var/www/seat/.env</code> and setting the appropriate values:</p>
<pre><code>DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=seat
DB_USERNAME=seat
DB_PASSWORD=s_p3rs3c3r3tp455w0rd
DB_DEBUG=false
</code></pre>

<p>Moving on, we should publish the internal databse migrations, css &amp; javasript, and other goodies with:</p>
<pre><code>php artisan vendor:publish --force
</code></pre>

<p>Next, run the database migrations to get the SeAT database ready for use:</p>
<pre><code>php artisan migrate
</code></pre>

<p>Next, we need to run the seeders to populate som default data for SeAT to use:</p>
<pre><code>php artisan db:seed --class=Seat\\Notifications\\database\\seeds\\ScheduleSeeder
php artisan db:seed --class=Seat\\Services\\database\\seeds\\NotificationTypesSeeder
php artisan db:seed --class=Seat\\Services\\database\\seeds\\ScheduleSeeder
</code></pre>

<p>Next, the latest static data export must be downloaded and imported with:</p>
<pre><code>php artisan eve:update-sde -n
</code></pre>

<p>And finally, the SeAT admin user needs to have a password set. There is no default SeAT admin password.</p>
<pre><code>php artisan seat:admin:reset
</code></pre>

<p>One last thing, an email address is needed for the admin user too.</p>
<pre><code>php artisan seat:admin:email
</code></pre>

<h3 id="supervisor">supervisor</h3>
<p>SeAT makes use of workers to actually process the update jobs that get scheduled. Think if the architecture as someone coming and dumping mail at the postoffice, and its up to say 4 workers to dig through the mail and sort it. Those 4 workers need a manager to ensure that they keep working. <code>supervisord</code> is a excellent candidate for the manager job.</p>
<p>Configure the actual workers that supervisord will manage. We do this by adding a new configuration file to <code>/etc/supervisord.d/</code> called <code>seat.ini</code> Note that the number of workers that we want to start is set by the <code>numprocs</code> settings:</p>
<pre><code>[program:seat]
command=/usr/bin/php /var/www/seat/artisan queue:work --queue=high,medium,low,default --tries 1 --timeout=86100
process_name = %(program_name)s-80%(process_num)02d
stdout_logfile = /var/log/seat-80%(process_num)02d.log
stdout_logfile_maxbytes=100MB
stdout_logfile_backups=10
numprocs=4
directory=/var/www/seat
stopwaitsecs=600
user=apache
</code></pre>

<p>Save your file and start <code>supervisord</code> so that it is aware of the changes that we have made:</p>
<pre><code>systemctl start supervisord.service
</code></pre>

<p>Lastly, check that everything is OK and the workers have started up:</p>
<pre><code>[root@seat seat]# supervisorctl status
seat:seat-8000                   RUNNING    pid 5083, uptime 0:00:28
seat:seat-8001                   RUNNING    pid 5082, uptime 0:00:28
seat:seat-8002                   RUNNING    pid 5085, uptime 0:00:28
seat:seat-8003                   RUNNING    pid 5084, uptime 0:00:28
</code></pre>

<p>If you do not have output such as in the above block, check the log files for any possible errors.</p>
<h3 id="crontab">crontab</h3>
<p>So far, we have SeAT workers running meaning that it is ready to process jobs that enter the Queue. We now need a way to add jobs to that Queue for processing by the workers.
SeAT has a build in schedule for when what should run at which interval. With the cronjob, we are simply telling SeAT to check every minute "is there anything we should be doing?". Add the cronjob as the webserver user as this is the user that has had all its <a href="#seat-permissions">permissions</a> configured earlier.</p>
<p>Add the following line to the webserver users crontab (remember to check the path if you chose one other that the one in this guide):</p>
<pre><code>* * * * * /usr/bin/php /var/www/seat/artisan schedule:run 1&gt;&gt; /dev/null 2&gt;&amp;1
</code></pre>

<h3 id="webserver">webserver</h3>
<p>Lastly, configure a webserver to server the <code>public/</code> directory from the folder that was downloaded when the <code>composer create-project</code> command was run.</p>
<p>Thats it! SeAT should now be available at http://your-domain-or-ip/</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../centos6/" class="btn btn-neutral float-right" title="CentOS 6.x">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../quick_install/" class="btn btn-neutral" title="Quick Install"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/eveseat/docs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../quick_install/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../centos6/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
